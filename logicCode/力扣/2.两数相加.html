<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 给出两个 非空 的链表用来表示两个非负的整数。其中，它们各自的位数是按照 逆序 的方式存储的，并且它们的每个节点只能存储 一位 数字。

      // 如果，我们将这两个数相加起来，则会返回一个新的链表来表示它们的和。

      // 您可以假设除了数字 0 之外，这两个数都不会以 0 开头。

      // 示例：

      // 输入：(2 -> 4 -> 3) + (5 -> 6 -> 4)  [2,4,3] [5,6,4]
      // 输出：7 -> 0 -> 8  [7,0,8]
      // 原因：342 + 465 = 807

      // 来源：力扣（LeetCode）
      // 链接：https://leetcode-cn.com/problems/add-two-numbers
      // 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。
      /**
       * Definition for singly-linked list. 单链表的定义
       * function ListNode(val) {
       *     this.val = val;
       *     this.next = null;
       * }
       */
      //   function ListNode(val) {
      //     this.val = val;
      //     this.next = null;
      //   }
      /**
       * @param {ListNode} l1
       * @param {ListNode} l2
       * @return {ListNode}
       */
      /** Bad */
      //   var addTwoNumbers = function(l1, l2) {
      //     let arr1 = storageList(l1);

      //     let arr2 = storageList(l2);
      //     let a = "";
      //     let b = "";
      //     while (arr1.length > 0) {
      //       a += arr1.shift().val;
      //     }
      //     while (arr2.length > 0) {
      //       b += arr2.shift().val;
      //     }

      //     let arr3 = storageList(
      //       (parseInt(a) + parseInt(b)).toString().split("")
      //     );
      //     let finalArr = [];
      //     while (arr3.length > 0) {
      //       finalArr.push(parseInt(arr3.shift().val));
      //     }

      //     return finalArr;
      //   };
      //   var storageList = function(l) {
      //     let arr = [];
      //     for (let i = 0; i < l.length; i++) {
      //       let a = new ListNode();
      //       a.val = l[i];
      //       a.next = l[i + 1] ? l[i + 1] : null;
      //       arr.unshift(a);
      //     }
      //     console.log(arr);

      //     return arr;
      //   };
      // ----------
      /** web */
      var addTwoNumbers = function(l1, l2) {
        let sum = 0;
        let head = {};
        let cur = head;
        console.log(l1);
        console.log(l2);

        while (l1 || l2 || sum) {
          sum += (l1 && l1.val) + (l2 && l2.val);
          cur = cur.next = new ListNode(sum % 10);

          l1 = l1 && l1.next;
          l2 = l2 && l2.next;
          sum = Math.floor(sum / 10);
        }
        return head.next;
      };
      /** web */
      //   var addTwoNumbers = function(l1, l2) {
      //     if (l1 === null) return l2;
      //     if (l2 === null) return l1;
      //     let first = new ListNode(null);
      //     let head1 = l1,
      //       head2 = l2,
      //       head = first;
      //     let flag = false; // 判断是否要进位
      //     while (head1 !== null || head2 !== null || flag) {
      //       let t = 0;
      //       if (head1 === null) {
      //         t = head2 ? head2.val : 0;
      //       } else if (head2 === null) {
      //         t = head1 ? head1.val : 0;
      //       } else {
      //         t = head1.val + head2.val;
      //       }
      //       flag && (t += 1) && (flag = false);
      //       t > 9 && (flag = true);
      //       if (head.val === null) {
      //         head.val = t % 10;
      //       } else {
      //         head.next = new ListNode(t % 10);
      //         head = head.next;
      //       }
      //       head1 = head1 === null ? head1 : head1.next;
      //       head2 = head2 === null ? head2 : head2.next;
      //     }
      //     return first;
      //   };

      //   ListNode {
      //   val: 2,
      //   next: ListNode { val: 4, next: ListNode { val: 3, next: null } } }
      function ListNode(val) {
        this.val = val;
        this.next = null;
      }
      function changeArrToList(arr) {
        if (arr.length <= 0) {
          return null;
        }
        let list = new ListNode(null);
        list.val = arr.pop();
        list.next = changeArrToList(arr);
        return list;
      }
      //   console.log(changeArrToList([2, 4, 3]));
      console.log(
        addTwoNumbers(changeArrToList([2, 4, 3]), changeArrToList([5, 6, 4]))
      );
    </script>
  </body>
</html>
